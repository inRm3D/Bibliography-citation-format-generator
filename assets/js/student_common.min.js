"use strict"; (function () { var l = ""; try { var e = document.getElementsByTagName("script"); for (var t in e) { var n = e[t], a = n.src; if (a && a.indexOf("/assets/js/") > -1) { l = a.split("/assets/js/")[0]; break } } } catch (e) { console.error(e) } l = l.replace(/\/+$/, ""); var d = (common.storage.get("account_tenant_id") || "").toLowerCase(); var r = false; try { r = "lun51" === d.toLowerCase() } catch (e) { var s = localStorage.getItem("SIGN-OUT-HOME"); if (s != null) { location.replace(s) } else { location.replace(l + "/login.html?v=202203141157") } return false } var i = localStorage.getItem("OvO_tenantId") || ""; if (i.indexOf(".") != -1) { i = i.split(".")[0] } window.studentHeaderLoad = function () { if (!common.storage.get("account_login_key")) { common.storage.clear(); if ("jwc.cqrz" === d) { location.replace("http://uia.cqrz.edu.cn/cas/logout?service=http%3A%2F%2Fuia.cqrz.edu.cn%2Fcas%2Flogin%3Fservice%3Dhttp%253A%252F%252Fsso.lun51.com%252Fsso%252Ftenant%252Fauth%252Fcqrz%252Fjwc") } else if ("xidian" === d) { location.replace("https://ids.xidian.edu.cn/authserver/logout?service=https%3A%2F%2Fids.xidian.edu.cn%2Fauthserver%2Flogin%3Fservice%3Dhttps%253A%252F%252Fxidian.lun51.com%252Fsso%252Ftenant%252Fauth%252Fxidian") } else { var e = localStorage.getItem("SIGN-OUT-HOME"); if (e != null) { location.replace(e) } else { location.replace(l + "/login.html?" + common.uuid()) } } } var t = document.getElementById("headerBox"); if (t) { var n = common.storage.get("account_head_img"); var a = common.storage.get("account_nickname") || common.storage.get("account_id"); var s = "signOutId-" + (new Date).getTime(); t.innerHTML = '\n            <div class="layui-logo" >\n                <a href="' + (r ? l : "javascript:;") + '"><img src="' + l + '/assets/images/logo2.png" style="display: block;height:100%;"/></a>\n                </div>\n                <span class="title">毕业论文格式检测机器人</span>\n                \n                <ul class="layui-nav  header-bar layui-layout-right p-r-0">\n                \n                ' + (r ? '<li class="layui-nav-item"><a href="' + l + '/index.html?v=202203141157">首页</a></li>' : "") + '\n                <li class="layui-nav-item"><a href="' + l + '/student/main.html?v=202203141157">提交论文</a></li>\n                <li class="layui-nav-item"><a href="' + l + '/student/doc_check_new.html?v=202203141157">查看报告</a></li>\n                <li class="layui-nav-item" data-msg>\n                    <a data-msg-state href="javascript:;">消息</a>\n                    <dl class="layui-nav-child">\n                        <dd><a data-msg-item="znsx" href="' + l + '/student/massage.html?v=202203141157">站内私信</a></dd>\n                        <dd><a data-msg-item="yxgg" href="' + l + '/student/notify/list-in.html?v=202203141157">院系公告</a></dd>\n                        <dd><a data-msg-item="xngg" href="' + l + '//student/notify/list-sh.html?v=202203141157">学校公告</a></dd>\n                    </dl>\n                </li>\n                <li class="layui-nav-item user-info">\n                    <a class="" href="javascript:;">\n                    <img onclick="location.href=\'' + l + '/student/main.html?v=202203141157\'" src="' + n + '" onerror="this.src=\'' + l + '/assets/images/user.jpg\'"  class="layui-nav-img" />\n                    <div class="layui-inline ellipsis" style="max-width:90px">' + a + '</div>\n                    </a>\n                    <dl class="layui-nav-child">\n                        <dd><a href="' + l + '/student/user_setting.html?v=202203141157#user_setting">基本资料</a></dd>                        <dd><a href="' + l + '/student/user_setting.html?v=202203141157#user_setting,tabCard-2">安全设置</a></dd>                        <dd><a id="' + s + '" href="javascript:;">退出</a></dd>\n                    </dl>\n                </li>\n            </ul><span class="header-menu"><i class="layui-icon">&#xe65f;</i></span>'; document.getElementById(s).addEventListener("click", function () { common.storage.clear(); if ("jwc.cqrz" === d) { location.replace("http://uia.cqrz.edu.cn/cas/logout?service=http%3A%2F%2Fuia.cqrz.edu.cn%2Fcas%2Flogin%3Fservice%3Dhttp%253A%252F%252Fsso.lun51.com%252Fsso%252Ftenant%252Fauth%252Fcqrz%252Fjwc") } else if ("xidian" === d) { location.replace("https://ids.xidian.edu.cn/authserver/logout?service=https%3A%2F%2Fids.xidian.edu.cn%2Fauthserver%2Flogin%3Fservice%3Dhttps%253A%252F%252Fxidian.lun51.com%252Fsso%252Ftenant%252Fauth%252Fxidian") } else { var e = localStorage.getItem("SIGN-OUT-HOME"); if (e != null) { location.replace(e) } else { location.replace(l + "/login.html?" + common.uuid()) } } }); if (typeof layui != "undefined" && layui.element) { layui.element.init() } } var i = setInterval(function () { if (APP) { window.clearInterval(i); var d = { znsx: 0, yxgg: 0, xngg: 0 }; APP.ajax({ url: "/system/sys_letter/get_letter_and_notify/", async: false, success: function e(t) { if (t.code == 0) { var n = t.data; var a = n["znsx"]; if (a && a.isRead == 0) { d.znsx = 1; layer.open({ type: 1, area: APP.isWAP() ? ["90%", "100%"] : ["860px", "100%"], title: "站内私信", id: "layerDemo" + (new Date).getTime(), btn: "确认", skin: "layui-layer-green p-0", btnAlign: "c", shade: .5, scrollbar: false, content: '\n                                        <div class="detail-body" style="padding: 0 20px">\n                                            <table class="layui-table layui-table-label"  lay-skin="nob">\n                                                <colgroup>\n                                                    <col width="60">\n                                                    <col>\n                                                </colgroup>\n                                                <tbody>\n                                                <tr><td class="color-green">发件人：</td>\n                                                    <td class="color-black">\n                                                        <span>' + (a.nickname + "[" + a.tenantId + ":" + a.id + "]") + '</span>\n                                                    </td>\n                                                </tr>\n                                                <tr><td class="color-green">主　题：</td><td class="color-black">' + a.title + '</td></tr>\n                                                <tr><td class="color-green">时　间：</td><td class="color-black"</td>' + a.sendTime + '</tr>\n                                                <tr><td colspan="2" class="color-green" >正　文：</td></tr>\n                                                <tr style="text-align: justify;"><td colspan="2">' + APP.editor(layui).htmlCode(a.message) + "</td></tr>\n                                                </tbody>\n                                            </table>\n                                        </div>\n                                    ", yes: function e(t, n) { if (d.znsx === 1) { d.znsx = 0; APP.ajax({ url: APP.restfulPrefix("/system/sys_letter/update_is_read_by_seq"), type: "post", dataType: "json", data: { seq: [a.seq], is_read: 1 }, success: function e(t) { } }) } layer.close(t) } }) } var s = void 0; var i = n["yxgg"]; if (i) { d.yxgg = 1; if (d.znsx === 0) { s = i } } var l = n["xngg"]; if (l) { d.xngg = 1; if (d.znsx === 0 && !s) { s = l } } if (s) { layer.open({ type: 1, id: "LAYER_ID_NOTIFY_LOOK", title: "公告通知", area: APP.isWAP() ? ["90%", "100%"] : ["860px", "100%"], btn: "确认", skin: "layui-layer-green p-0", btnAlign: "c", shade: .5, scrollbar: false, content: '\n                                    <div style="padding: 10px 20px;">\n                                        <h2 style="padding-top: 10px;margin-bottom: 5px">' + s.title + '</h2>\n                                        <div class="layui-row" style="color:#969696">\n                                            <div class="layui-col-xs12"><i class="layui-icon layui-icon-log"></i> <span class="m-r-25"> ' + s.updatedDateTime + '</span></div>\n                                        </div>\n                                        <hr/>\n                                        <div id="msg-content" style="padding-top: 15px;min-height:200px">' + s.msg + '</div>\n                                        <hr/>\n                                        <div style="padding:10px 0 25px">' + (!s.fileName ? "" : '附件【<a class="color-green cursor-p" title="下载附件" href="javascript:;"  data-event-download><i class="iconfont icon-xiazai" style="font-weight: bolder"></i> ' + s.fileName + "</a>】") + "</div>\n                                    </div>\n                                ", success: function e(t, n) { var a = true; t.on("click", "a[data-event-download]", function () { if (a) { a = false; setTimeout(function () { a = true }, 5e3); APP.downloadExistFile({ url: s.httpUrl, fileName: s.fileName }) } }) }, yes: function e(t, n) { if (d.yxgg === 1) { d.yxgg = 0 } else { d.xngg = 0 } APP.ajax({ url: APP.restfulPrefix("/sys/notify/read"), type: "post", dataType: "json", data: { seq: s.seq }, success: function e(t) { } }); layer.close(t) } }) } } } }); var s = false; $(t).find("li[data-msg] a[data-msg-item]").each(function (e, t) { var n = $(t); var a = n.attr("data-msg-item"); if (d[a] === 1) { s = true; n.prepend('<span class="layui-badge-dot" style="position: absolute;top: 50%;left: 4px;margin-top: -15px"></span>') } }); if (s) { $(t).find("li[data-msg] > a[data-msg-state]").prepend('<span class="layui-badge-dot" style="position: absolute;top: 50%;left: 4px;margin-top: -15px"></span>') } } }, 3e3) }; studentHeaderLoad(); var h = location.hash.replace(/^#/, "").split(",")[0], m = location.hash.replace(/(^#\/)|(^#)/, "").split("/"), c = JSON.parse(localStorage.getItem("thesisProcessParam")); var o = function e(t, n) { if (!m || m.length == 0) { return "" } n = n === undefined ? 0 : n; return m[n] == t ? " layui-nav-itemed" : "" }; var u = function e(t, n) { if (!m || m.length == 0) { return "" } n = n === undefined ? 1 : n; return m[n] == t ? " layui-this" : "" }; function f(e) { for (var t in e) { if (h == e[t]) { return "layui-nav-itemed" } } return "" } function g(e) { return h == e ? " layui-this" : "" } function p(e) { if (!c) { return false } var t = false; for (var n in e) { t = c[e[n]] && c[e[n]]["enabled"] === 1; if (t) break } return t } function _(e) { if (!c) { return false } return c[e] && c[e]["enabled"] === 1 } function y(e) { if (!c) { return false } var t = c[e]; if (!t) { return false } var n = t["endDate"]; if (!n) return false; var a = n.replace(/-/g, "/"); var s = (new Date).Format("yyyy/MM/dd"); return new Date(a).getTime() >= new Date(s).getTime() } function v(e, t) { if (!c) { return false } var n = null; if (!c[e] || !(n = c[e]["extendParamMap"])) { return true } return !n ? false : n[t] === 1 } function x(e, t) { if (!c) { return null } var n = null; if (!c[e] || !(n = c[e]["extendParamMap"])) { return null } return !n ? null : n[t] } var S = document.getElementById("menu-nav"); var w = [{ name: "Comprehensive testing", href: "", hide: 1, child: [{ name: "I want to test", href: l + "/en/view/", hide: 0 }, { name: "Test Report", href: l + "/en/view/", hide: 0 }, { name: "Consultation record", href: l + "/en/view/", hide: 0 }, { name: "Subscription detection notification", href: l + "/en/view/", hide: 0 }] }, { name: "", href: "", hide: true, child: [{ name: "", href: "" + l, hide: true }, { name: "", href: "" + l, hide: true }, { name: "", href: "" + l, hide: true }, { name: "", href: "" + l, hide: true }, { name: "", href: "" + l, hide: true }] }]; w = []; if (d != "lun51") { w.push({ name: "论文选题", href: "", hide: !p(["KTSB_SZ", "XT_SZ"]), child: [{ name: "申报课题", href: l + "/student/thesis-ktsb.html", hide: x("KTSB_SZ", "studentApplyAllowed") !== 1 }, { name: "我的选题", href: l + "/student/thesis-wdxt.html", hide: !_("XT_SZ") }] }, { name: "指导教师", href: l + "/student/thesis-advisor.html" }, { name: "项目申请书", href: "", hide: !_("CUSTOM_PY_MODULE_0001_SZ"), child: [{ name: "提交项目申请书", href: l + "/student/custom-py-module/0001.html", hide: 0 }] }, { name: "任务书", href: "", hide: !_("RWS_SZ"), child: [{ name: "下载任务书初稿", href: l + "/student/thesis-rwscg.html", hide: !_("RWSCGXZ_SZ") }, { name: "任务书模板", href: l + "/student/thesis-rwsmb.html", hide: common.getObjKeysVal(c, "RWS_SZ", "extendParamMap", "offTplDownloadMenu") === 1 }, { name: "任务书检测", href: l + "/student/thesis-rwsjc.html", hide: common.getObjKeysVal(c, "RWS_SZ", "extendParamMap", "offCheckMenu") === 1 || !y("RWS_SZ") }, { name: "任务书检测报告", href: l + "/student/doc_check_rws.html", hide: common.getObjKeysVal(c, "RWS_SZ", "extendParamMap", "offCheckMenu") === 1 }, { name: "提交任务书", href: l + "/student/thesis-rws.html", hide: 0 }] }, { name: "开题报告", href: "", hide: !_("KTBG_SZ"), child: [{ name: "开题报告模板", href: l + "/student/thesis-ktbgmb.html", hide: common.getObjKeysVal(c, "KTBG_SZ", "extendParamMap", "offTplDownloadMenu") === 1 }, { name: "开题报告检测", href: l + "/student/thesis-ktbgjc.html", hide: common.getObjKeysVal(c, "KTBG_SZ", "extendParamMap", "offCheckMenu") === 1 || !y("KTBG_SZ") }, { name: "开题报告检测报告", href: l + "/student/doc_check_ktbg.html", hide: common.getObjKeysVal(c, "KTBG_SZ", "extendParamMap", "offCheckMenu") === 1 }, { name: "提交开题报告", href: l + "/student/thesis-ktbg.html", hide: 0 }] }, { name: "文献综述", href: "", hide: !_("WXZS_SZ"), child: [{ name: "文献综述模板", href: l + "/student/thesis-wxzsmb.html", hide: common.getObjKeysVal(c, "WXZS_SZ", "extendParamMap", "offTplDownloadMenu") === 1 }, { name: "文献综述检测", href: l + "/student/thesis-wxzsjc.html", hide: common.getObjKeysVal(c, "WXZS_SZ", "extendParamMap", "offCheckMenu") === 1 || !y("WXZS_SZ") }, { name: "文献综述检测报告", href: l + "/student/doc_check_wxzs.html", hide: common.getObjKeysVal(c, "WXZS_SZ", "extendParamMap", "offCheckMenu") === 1 }, { name: "提交文献综述", href: l + "/student/thesis-wxzs.html", hide: 0 }] }, { name: "周记（指导记录）", href: l + "/student/thesis-zjgl.html", hide: !_("ZJ_SZ") }, { name: "中期检查", href: "", hide: !p(["ZQBG_SZ", "DABIAN_SZ"]), child: [{ name: "中期检查模板", href: l + "/student/thesis-zqbgmb.html", hide: !_("ZQBG_SZ") || common.getObjKeysVal(c, "ZQBG_SZ", "extendParamMap", "offTplDownloadMenu") === 1 }, { name: "中期检查检测", href: l + "/student/thesis-zqbgjc.html", hide: !_("ZQBG_SZ") || common.getObjKeysVal(c, "ZQBG_SZ", "extendParamMap", "offCheckMenu") === 1 }, { name: "中期检查检测报告", href: l + "/student/doc_check_zqbg.html", hide: !_("ZQBG_SZ") || common.getObjKeysVal(c, "ZQBG_SZ", "extendParamMap", "offCheckMenu") === 1 }, { name: "提交中期检查", href: l + "/student/thesis-zqbg.html", hide: !_("ZQBG_SZ") }, { name: "中期答辩安排", href: l + "/student/doc_check_zqbg_dbap.html", hide: !_("DABIAN_SZ") }, { name: "中期答辩PPT", href: l + "/student/doc_check_zqbg_ppt.html", hide: !_("DABIAN_SZ") }] }, { name: "论文初稿", href: "", hide: !_("LWCG_SZ"), child: [{ name: "论文初稿检测", href: l + "/student/thesis-lwcgjc.html", hide: common.getObjKeysVal(c, "LWCG_SZ", "extendParamMap", "offCheckMenu") === 1 || !y("LWCG_SZ") }, { name: "论文初稿检测报告", href: l + "/student/doc_check_lwcg.html", hide: common.getObjKeysVal(c, "LWCG_SZ", "extendParamMap", "offCheckMenu") === 1 }, { name: "提交论文初稿", href: l + "/student/thesis-lwcg.html", hide: 0 }] }, { name: "论文终稿", href: "", hide: !_("LWZG_SZ"), child: [{ name: "论文终稿模板", href: l + "/student/thesis-lwzgmb.html", hide: common.getObjKeysVal(c, "LWZG_SZ", "extendParamMap", "offTplDownloadMenu") === 1 }, { name: "论文终稿检测", href: l + "/student/thesis-lwzgjc.html", hide: common.getObjKeysVal(c, "LWZG_SZ", "extendParamMap", "offCheckMenu") === 1 || !y("LWZG_SZ") }, { name: "论文终稿检测报告", href: l + "/student/doc_check_lwzg.html", hide: common.getObjKeysVal(c, "LWZG_SZ", "extendParamMap", "offCheckMenu") === 1 }, { name: "提交论文终稿", href: l + "/student/thesis-lwzg.html", hide: 0 }, { name: "论文一辩安排", href: l + "/student/doc_check_zzdbap_one.html", hide: !p(["DABIAN_ONE_SZ"]) }, { name: "论文一辩PPT", href: l + "/student/doc_check_zqbg_ppt_one.html", hide: !p(["DABIAN_ONE_SZ"]) }, { name: "论文二辩安排", href: l + "/student/doc_check_zzdbap_two.html", hide: !p(["DABIAN_TWO_SZ"]) }, { name: "论文二辩PPT", href: l + "/student/doc_check_zqbg_ppt_two.html", hide: !p(["DABIAN_TWO_SZ"]) }] }, { name: "论文翻译", href: l + "/student/thesis-lwfy.html", hide: !_("LWFY_SZ") }, { name: "论文评阅", href: "", hide: !(!["dgxnu", "jwc.xtu", "example"].includes(d) && p(["LWPY_SZ"])), child: [{ name: "提交评阅申请", href: l + "/student/thesis-pysq.html" }, { name: "评阅老师评语", href: l + "/student/thesis-pylspy.html" }, { name: "评阅综合成绩", href: l + "/student/thesis-pyjl.html" }] }, { name: "论文评阅", href: "", hide: !(["dgxnu", "example"].includes(d) && p(["LWPY_SZ"])), child: [{ name: "导师评阅记录", href: l + "/student/review-lw/teacher.html", hide: !["dgxnu", "example"].includes(d) }, { name: "评阅人评阅记录", href: l + "/student/review-lw/rater.html", hide: !["dgxnu", "example"].includes(d) }] }, { name: "答辩申请", href: l + "/student/thesis-dbsq.html", hide: 1 }, { name: "答辩资料上传", href: l + "/student/thesis-dbzlsc.html", hide: 1 }, { name: "答辩记录", href: l + "/student/thesis-dbjl.html", hide: 1 }, { name: "论文成绩", href: "", hide: !p(["CHENGJI_SZ"]), child: [{ name: "指导导师评语", href: l + "/student/thesis-zddspy.html", hide: 0 }, { name: "评阅导师评语", href: l + "/student/thesis-pydspy.html", hide: 0 }, { name: "评分记录", href: l + "/student/thesis-pfjl.html", hide: 0 }, { name: "论文评优", href: l + "/student/thesis-lwpyou.html", hide: 0 }] }) } w.push({ name: "综合检测", href: "", hide: 0, child: [{ name: "我要检测", href: l + "/student/main.html", hide: 0 }, { name: "检测报告", href: l + "/student/doc_check_new.html", hide: 0 }, { name: "咨询记录", href: l + "/student/zxjl.html", hide: 0 }, { name: "订阅检测通知", href: l + "/student/notify/check_result_gzh_subscribe.html", hide: 0 }, { name: "文献修订助手", href: l + "/student/tool/reference.html", hide: 0 }, { name: "检测误报申请", href: l + "/student/doc_check_request_expert.html", hide: 1 }] }, { name: "检测分析", href: "", hide: 0, child: [{ name: "检测错误", href: l + "/student/check-analyse/trend.html", hide: 0 }, { name: "检测间隔", href: l + "/student/check-analyse/interval.html", hide: 0 }, { name: "错误类型", href: l + "/student/check-analyse/check-err-type.html", hide: true }] }); if (!r) { w.push({ name: "毕设文档与申请专栏", href: "", hide: !p(["XT_ADJUST_APPLY", "WORD_EDIT_XTBG_SZ", "WORD_EDIT_ZQJC_SZ"]), child: [{ name: "选题报告填写", href: l + "/student/word-tmpl/xtbg/00001.html", hide: !(_("WORD_EDIT_XTBG_SZ") && !["jwc.xtu"].includes(d)) }, { name: "任务书填写", href: l + "/student/word-tmpl/rws/00001.html", hide: !(_("WORD_EDIT_RWS_SZ") && ["test", "jwc.xtu"].includes(d)) }, { name: "开题报告填写", href: l + "/student/word-tmpl/xtbg/00002.html", hide: !(_("WORD_EDIT_XTBG_SZ") && ["test", "jwc.xtu"].includes(d)) }, { name: "中期检查填写", href: l + "/student/word-tmpl/zqjc/00001.html", hide: true }, { name: "中期检查填写", href: l + "/student/word-tmpl/zqjc/00002.html", hide: !(_("WORD_EDIT_XTBG_SZ") && !["jwc.xtu"].includes(d)) }, { name: "中期检查填写", href: l + "/student/word-tmpl/zqjc/00003.html", hide: !(_("WORD_EDIT_ZQJC_SZ") && ["jwc.xtu"].includes(d)) }, { name: "选题调整申请", href: l + "/student/apply-column/xt-adjust-apply.html", hide: !_("XT_ADJUST_APPLY") }, { name: "毕设封面下载", href: l + "/student/word-tmpl/bsfm/00001.html", hide: !["test", "dgxnu"].includes(d) }, { name: "论文（设计）评阅表", href: l + "/student/word-tmpl/pyb/00001.html", hide: !["jwc.xtu"].includes(d) }, { name: "论文（设计）鉴定表", href: l + "/student/word-tmpl/pyb/00002.html", hide: !["jwc.xtu"].includes(d) }, { name: "论文（设计）封面下载", href: l + "/student/word-tmpl/bsfm/00002.html", hide: !["test", "jwc.xtu"].includes(d) }, { name: "学年论文提交", href: l + "/student/word-tmpl/xnlw/00001.html", hide: !["test", "jwc.xtu"].includes(d) }] }, { name: "通知公告", href: "", child: [{ name: "院系通知公告", href: l + "/student/notify/list-in.html" }, { name: "学校通知公告", href: l + "/student/notify/list-sh.html" }] }, { name: "资料下载", href: l + "/student/datadown/index.html", hide: 0 }, { name: "问卷调查", href: l + "/student/questionnaire/index.html", hide: 0 }) } var b = false; if (!r) { if (_("OFF_STUDENT_PAPER_SET_MENU_SZ")) { b = v("OFF_STUDENT_PAPER_SET_MENU_SZ", "offMenu") } } w.push({ name: "个人中心", href: "", hide: 0, child: [{ name: "我的积分", href: l + "/student/integral.html", hide: 0, className: !r ? "student-menu-integral layui-hide" : "" }, { name: "文献助手", href: l + "/student/tool/reference.html", hide: 0 }, { name: "我的评价", href: l + "/student/comment.html", hide: 1 }, { name: "论文设置", href: l + "/student/doc_setting.html", hide: b }, { name: "检测设置", href: l + "/student/check_setting.html", hide: 1 }, { name: "账号设置", href: l + "/student/user_setting.html", hide: 0 }, { name: "站内私信", href: l + "/student/massage.html", hide: 0 }, { name: "模板提交记录", href: l + "/student/template_request.html", hide: 0 }] }); var Z = '<ul class="layui-nav layui-nav-tree"  lay-shrink="all" lay-filter="layui-nav-menu">'; for (var P = 0; P < w.length; P++) { var j = w[P]; if (j.hide) { continue } var T = j.child; var k = T && T.length > 0; var F = P + 1; F = (F < 9 ? "0" + F : F) + ""; if (k) { Z += '<li class="layui-nav-item ' + o("nav-" + F, 0) + '">\n                <a href="javascript:;">' + j.name + '</a>\n                <dl class="layui-nav-child">'; var M = T.length; for (var A = 0; A < M; A++) { var O = A + 1; O = (O < 9 ? "0" + O : O) + ""; var z = T[A]; if (!z || z.hide) { continue } Z += '<dd class="' + u(F + O, 1) + " " + (z.className || "") + '"><a href="' + z.href + "?v=202203141157#/nav-" + F + "/" + (F + O) + '" ' + (z.target ? 'target="' + z.target + '"' : "") + ">" + z.name + "</a></dd>" } Z += "</dl>" } else { Z += '<li class="layui-nav-item ' + u(F + "01", 1) + " " + (j.className || "") + '"><a href="' + j.href + "?v=202203141157#/nav-" + F + "/" + (F + "01") + '" ' + (j.target ? 'target="' + j.target + '"' : "") + ">" + j.name + "</a></li>" } } Z += '</ul><div class="menu-nav-toggle-show"><i class="layui-icon">&#xe602;</i></div>'; S.innerHTML = Z; var D = S.getElementsByTagName("a"); var I = function e() { var t = D[W], s = t.getAttribute("href"); if (s && /^http(s)?:\/\//.test(s) && !t.hasAttribute("target")) { t.addEventListener("click", function () { var e = APP.getHeaders()["tenantId"]; var t = APP.getHeaders()["userId"]; var n = {}; var a = localStorage.getItem("historyMenu"); if (a) { n = JSON.parse(a) } n[e + "@" + t] = s; localStorage.setItem("historyMenu", JSON.stringify(n)) }) } }; for (var W = 0; W < D.length; W++) { I() } })();